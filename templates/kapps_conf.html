{% block content %}
<!-- <script type=text/javascript src="{{ url_for('static', filename='chosen.jquery.min.js') }}"></script> -->


<ul class="nav nav-tabs" id="myTab" role="tablist">
	
	{% for modulo in kapps_modules if modulo.estado==0: %}
	<li class="nav-item" role="presentation">
	  <button class="nav-link {% if modulo.numreg==0:%}active{% endif %}" id="modulo-{{modulo.id_modulo}}" data-bs-toggle="tab" data-bs-target="#tab-{{modulo.id_modulo}}" type="button" role="tab" aria-controls="tab-{{modulo.id_modulo}}" aria-selected="false">{{modulo.name}}</button>
	</li>
	{% endfor %}
</ul>
  <div class="tab-content" id="myTabContent">
	{% for modulo in kapps_modules if modulo.estado==0: %}
	<div class="tab-pane fade {% if modulo.numreg==0:%}show active{% endif %}" id="tab-{{modulo.id_modulo}}" role="tabpanel" aria-labelledby="modulo-{{modulo.id_modulo}}" tabindex="0">
		<br>
		<div class="modal-header">
			<h6 class="modal-title text-primary" style="font-size:1.1rem">
				{{modulo.description}}
			</h6>
		</div>
		
		
	
		<div class="accordion accordion-flush" id="modal-kapp-modules-accordionFlush">

			{% for cat in kapps_parameters_cats if cat.id_modulo==modulo.id_modulo: %}
				<div class="accordion-item">
					<h2 class="accordion-header">
						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
							data-bs-target="#flush-collapse-{{modulo.id_modulo}}{{cat.category}}" aria-expanded="false"
							aria-controls="flush-collapse-{{modulo.id_modulo}}{{cat.category}}">
							{{cat.category}}
						</button>
					</h2>
					<div id="flush-collapse-{{modulo.id_modulo}}{{cat.category}}" class="accordion-collapse collapse"
							data-bs-parent="#accordionFlushExample">
							<div class="accordion-body">
							{% for parametro in kapps_parameters if parametro.id_modulo==modulo.id_modulo and parametro.category==cat.category: %}
								<div class="row mb-3 border-bottom">
									<label for="id-{{parametro.kapp_id}}-{{parametro.catalog_id}}" class="col-sm-2 col-form-label col-form-label-sm">{{ parametro.nombre }}</label>
									<div class="col-sm-10">
										{% if parametro.html_type == 'textarea': %}
										<textarea id="id-{{parametro.kapp_id}}-{{parametro.catalog_id}}" class ="confparam-{{parametro.kapp_id}}-{{parametro.catalog_id}}" {{ parametro.html_additional }}>{{parametro.valor}}</textarea>
										{% else: %}
										<input id="id-{{parametro.kapp_id}}-{{parametro.catalog_id}}" type="{{parametro.html_type}}" {{ parametro.html_additional }} class="form-control form-control-sm confparam-{{parametro.kapp_id}}-{{parametro.catalog_id}}" placeholder="" value="{{parametro.valor}}">
										{% endif %}
									</div>
								</div>
							{% endfor %}
							</div>
					</div>
				</div>
			{% endfor %}


		</div>

	</div>
	{% endfor %}
  </div>


{% endblock %}